# ============================================================================
# Rekindle Backend Environment Variables
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ============================================================================
# Environment
# ============================================================================
ENVIRONMENT=development
DEBUG=true

# ============================================================================
# API Configuration
# ============================================================================
API_V1_STR=/api/v1
SECRET_KEY=your-secret-key-here-minimum-32-characters-long
BACKEND_BASE_URL=http://localhost:8000

# ============================================================================
# Database
# ============================================================================
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://rekindle:password@localhost:5432/rekindle_dev

# ============================================================================
# Redis
# ============================================================================
# Redis connection string for job queue and caching
# Format: redis://host:port/db
REDIS_URL=redis://localhost:6379/0

# ============================================================================
# Supabase Authentication
# ============================================================================
# Supabase project URL (local or cloud)
# Local: http://localhost:54321
# Cloud: https://your-project-id.supabase.co
SUPABASE_URL=http://localhost:54321
SUPABASE_ANON_KEY=your-anon-public-key-here
SUPABASE_SERVICE_KEY=your-service-role-key-here
# Optional: For local Supabase HS256 tokens, if JWT secret differs from anon key
# SUPABASE_JWT_SECRET=your-jwt-secret-here

# Optional: Webhook secret for Supabase event callbacks
# SUPABASE_WEBHOOK_SECRET=replace-with-generated-secret

# ============================================================================
# Cross-Device Authentication
# ============================================================================
# Secret key for signing cross-device temporary JWTs (HS256)
# MUST be at least 32 bytes (characters) long for security
# Generate a secure random secret:
#   python -c 'import secrets; print(secrets.token_urlsafe(32))'
XDEVICE_JWT_SECRET=your-32-byte-random-secret-here-minimum-length-required

# ============================================================================
# Stripe Payment Processing
# ============================================================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================================================
# AWS S3 Storage
# ============================================================================
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
S3_BUCKET=rekindle-uploads

# ============================================================================
# RunPod AI Processing
# ============================================================================
RUNPOD_API_KEY=your-runpod-api-key-here
RUNPOD_ENDPOINT_ID=your-endpoint-id-here
RUNPOD_NETWORK_VOLUME_ID=366etpkt4g
RUNPOD_S3_ENDPOINT=https://s3api-eu-cz-1.runpod.io/
RUNPOD_S3_REGION=eu-cz-1
RUNPOD_S3_ACCESS_KEY=your-runpod-s3-access-key
RUNPOD_S3_SECRET_KEY=your-runpod-s3-secret-key

# ============================================================================
# ComfyUI Configuration
# ============================================================================
COMFYUI_URL=http://127.0.0.1:8188
COMFYUI_MODE=serverless

# ============================================================================
# File Upload Limits
# ============================================================================
MAX_FILE_SIZE=52428800  # 50MB in bytes
# ALLOWED_FILE_TYPES is configured in code (image/jpeg, image/png, image/heic, image/webp)

# ============================================================================
# CORS Configuration
# ============================================================================
# Comma-separated list of allowed origins (configured in code by default)
# ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ============================================================================
# Notes
# ============================================================================
# - For local development with Docker, use:
#   - SUPABASE_URL=http://host.docker.internal:54321
#   - DATABASE_URL=postgresql://rekindle:password@postgres:5432/rekindle_dev
#   - REDIS_URL=redis://redis:6379/0
#
# - Generate secure secrets:
#   - SECRET_KEY: python -c 'import secrets; print(secrets.token_urlsafe(32))'
#   - XDEVICE_JWT_SECRET: python -c 'import secrets; print(secrets.token_urlsafe(32))'
#
# - Never commit this file or .env to version control!
# - See ENV_SETUP.md for detailed setup instructions
